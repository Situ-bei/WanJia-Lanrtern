import{e as f,g as E,f as w}from"./base-QoPSD99Y.js";import{E as D,a as I,b as S,c as R}from"./breadcrumb-item-Bu9qHYI9.js";import{E as L,a as N}from"./carousel-item-qdANHnTW.js";import{_ as V,g as d,l as F,v as U,c,a as e,b as o,w as s,u as M,F as u,e as _,x as T,o as n,d as h,t as m,m as $,r as j}from"./index-gE54tNIP.js";import{C as q}from"./index-pCkL8F9C.js";const z={class:"top-category"},A={class:"container m-top-20"},G={class:"bread-container"},H={class:"home-banner"},J=["src"],K={class:"sub-list"},O=["src"],P={class:"head"},Q={class:"goodsBody"},W={__name:"index",setup(X){const v=T(),r=d({}),p=d({}),g=d(!0);return console.log(r,"categoryData"),F(async()=>{await f(v.params).then(({result:a})=>{r.value=a}),await E({distributionSite:"2"}).then(({result:a})=>{console.log(a,"CategoryBannerData"),p.value=a,g.value=!1})}),U(async(a,l)=>{try{if(a.params.id!==l.params.id){const{result:i}=await f(a.params);r.value=i}}catch{}}),(a,l)=>{const i=S,y=D,b=R,k=L,x=N,B=I,C=j("RouterLink");return n(),c("div",z,[e("div",A,[e("div",G,[o(y,{"separator-icon":M(w)},{default:s(()=>[o(i,{to:{path:"/"}},{default:s(()=>l[0]||(l[0]=[h("首页")])),_:1}),o(i,null,{default:s(()=>[h(m(r.value.name),1)]),_:1})]),_:1},8,["separator-icon"])]),e("div",H,[o(B,{animated:"",loading:g.value},{template:s(()=>[o(b,{variant:"image",style:{height:"500px",width:"1240px","border-radius":"10px"}})]),default:s(()=>[o(x,{height:"500px",class:"img-container"},{default:s(()=>[(n(!0),c(u,null,_(p.value,t=>(n(),$(k,{key:t.id},{default:s(()=>[e("img",{src:t.imgUrl,alt:""},null,8,J)]),_:2},1024))),128))]),_:1})]),_:1},8,["loading"])]),e("div",K,[l[1]||(l[1]=e("h3",null,"全部分类",-1)),e("ul",null,[(n(!0),c(u,null,_(r.value.children,t=>(n(),c("li",{key:t.id},[o(C,{to:`/category/sub/${t.id}`},{default:s(()=>[e("img",{src:t.picture},null,8,O),e("p",null,m(t.name),1)]),_:2},1032,["to"])]))),128))])]),(n(!0),c(u,null,_(r.value.children,t=>(n(),c("div",{class:"ref-goods",key:t.id},[e("div",P,[e("h3",null,m(t.name),1)]),e("div",Q,[o(q,{class:"goods-list",data:t.goods},null,8,["data"])])]))),128))])])}}},oe=V(W,[["__scopeId","data-v-280bf83c"]]);export{oe as default};
